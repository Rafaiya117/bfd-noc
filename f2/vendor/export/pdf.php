<?php
include '_a.php';
must_login();
require_once _A_API_FILE_LOCATION. '../lib/dompdf/autoload.inc.php'; 
require _A_API_FILE_LOCATION. '../lib/dompdf/vendor/autoload.php';

use Dompdf\Dompdf;

function pdf_downloader($html) {
  $options = new \Dompdf\Options();
  $options->set('isRemoteEnabled', true);
  $dompdf = new Dompdf($options);
  $dompdf->loadHtml($html);
  $dompdf->setPaper('A4', 'landscape');
  $dompdf->render();
  $dompdf->stream("Pdf.pdf");
}

 $id = isset($_GET['id']) ? $_GET['id'] : '';
 if (!empty($id)) {
  $url= BASEURL . '/f2/home/full_details.php?id=' . $id;
   $html = file_get_contents($url); 
  // print_r($url);
  // print_r($html);
  echo $html;
  //  pdf_downloader($html);
} else {
  echo "ID parameter is missing.";
 
 }



 //$html = '<h1 style="color:blue;">Hello World>> changed s!</h1><p>A PDF generated by DomPDF library.</p>';
//pdf_downloader($html);
